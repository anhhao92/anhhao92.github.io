{"version":3,"sources":["pages/login/login.module.scss","pages/login/login.component.js"],"names":["module","exports","formSignIn","formContainer","menuAction","authUi","Login","props","_this","Object","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleChangeUsername","e","setState","username","target","value","handleChangePassword","password","toggle","dropdownOpen","state","onSubmit","_this$props","dispatch","history","loginUser","preventDefault","nextProps","_this$props2","returnUrl","isAuthenticated","push","authConfig","callbacks","signInSuccessWithAuthResult","result","id","additionalUserInfo","profile","saveUserInfo","signInFailure","error","console","log","signInOptions","firebase","auth","FacebookAuthProvider","PROVIDER_ID","GoogleAuthProvider","GithubAuthProvider","TwitterAuthProvider","signInFlow","signInSuccessUrl","firebaseui","AuthUI","start","delete","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_10__","className","classes","direction","isOpen","nav","caret","react_icons_lib_fa_question_circle__WEBPACK_IMPORTED_MODULE_11___default","header","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","disabled","divider","renderAction","color","for","autoFocus","type","placeholder","onChange","size","block","React","PureComponent","withRouter","connect"],"mappings":"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","file":"static/js/1.619c4199.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSignIn\":\"login_formSignIn__2JFXf\",\"formContainer\":\"login_formContainer__1oSJM\",\"menuAction\":\"login_menuAction__2BNS4\"};","import React from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser, saveUserInfo } from '../../actions/auth.action';\r\nimport { Input, Label, Button, Alert } from 'reactstrap';\r\n\r\nimport {\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  DropdownMenu\r\n} from 'reactstrap';\r\nimport FaQuestionCircleO from 'react-icons/lib/fa/question-circle';\r\n\r\nimport { firebase } from '../../configs/firebase';\r\nimport firebaseui from 'firebaseui';\r\nimport 'firebaseui/dist/firebaseui.css';\r\nimport classes from './login.module.scss';\r\n\r\nlet authUi = null;\r\n\r\nclass Login extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  handleChangeUsername = e => {\r\n    this.setState({\r\n      username: e.target.value\r\n    });\r\n  };\r\n\r\n  handleChangePassword = e => {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  };\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      dropdownOpen: !this.state.dropdownOpen\r\n    });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    const { dispatch, history } = this.props;\r\n    dispatch(loginUser(this.state, history));\r\n    e.preventDefault();\r\n  };\r\n\r\n  componentWillUpdate(nextProps) {\r\n    const { history, returnUrl } = this.props;\r\n    if (nextProps.isAuthenticated) {\r\n      history.push(returnUrl ? returnUrl : '/');\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const authConfig = {\r\n      callbacks: {\r\n        signInSuccessWithAuthResult: result => {\r\n          const id = result.additionalUserInfo.profile.id;\r\n          saveUserInfo(id, result);\r\n          return false;\r\n        },\r\n        signInFailure: error => console.log(error)\r\n      },\r\n      signInOptions: [\r\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GithubAuthProvider.PROVIDER_ID,\r\n        firebase.auth.TwitterAuthProvider.PROVIDER_ID\r\n      ],\r\n      signInFlow: 'popup',\r\n      signInSuccessUrl: '/'\r\n    };\r\n    authUi = new firebaseui.auth.AuthUI(firebase.auth());\r\n    authUi.start('#auth-container', authConfig);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    authUi.delete();\r\n  }\r\n\r\n  renderAction() {\r\n    return (\r\n      <Dropdown\r\n        className={classes.menuAction}\r\n        direction=\"left\"\r\n        isOpen={this.state.dropdownOpen}\r\n        toggle={this.toggle}\r\n      >\r\n        <DropdownToggle nav caret>\r\n          <FaQuestionCircleO />\r\n        </DropdownToggle>\r\n        <DropdownMenu>\r\n          <DropdownItem header>Available Features</DropdownItem>\r\n          <DropdownItem>\r\n            <Link to=\"/tools\">GROSS &amp; NET Calculation</Link>\r\n          </DropdownItem>\r\n          <DropdownItem disabled>Request Feature</DropdownItem>\r\n          <DropdownItem divider />\r\n          <DropdownItem>\r\n            <Link to=\"/profile\">My Profile</Link>\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { error } = this.props;\r\n    return (\r\n      <div className={classes.formContainer}>\r\n        {this.renderAction()}\r\n        <form className={classes.formSignIn} onSubmit={this.onSubmit}>\r\n          <h3 className=\"text-center\">Please sign in</h3>\r\n          {error && <Alert color=\"danger\">{error}</Alert>}\r\n          <div className=\"form-group\">\r\n            <Label for=\"inputEmail\" className=\"sr-only\">\r\n              Username\r\n            </Label>\r\n            <Input\r\n              autoFocus\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={this.state.username}\r\n              onChange={this.handleChangeUsername}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <Label for=\"inputPassword\" className=\"sr-only\">\r\n              Password\r\n            </Label>\r\n            <Input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChangePassword}\r\n            />\r\n          </div>\r\n          <Button color=\"primary\" size=\"lg\" block type=\"submit\">\r\n            Sign in\r\n          </Button>\r\n          <div id=\"auth-container\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.auth.error,\r\n  returnUrl: state.auth.returnUrl\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Login));\r\n"],"sourceRoot":""}