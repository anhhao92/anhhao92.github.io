(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1066:function(e,t,n){},1093:function(e,t){},1096:function(e,t,n){},1098:function(e,t,n){},1100:function(e,t,n){},1102:function(e,t,n){},1113:function(e,t,n){},1117:function(e,t,n){},1121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=n(14),s=n(62),d=n(47),f=n(213),p=n(214),m=n.n(p),v=n(5),h=n(17),y=n(36),E=function(e,t){for(var n=[],a=function(e,t){switch(t){case y.b.A_COLUMN:return 1;case y.b.ABA_COLUMN:case y.b.AAA_COLUMN:return e%3===0?3:e%3===1?2:1;case y.b.AA_COLUMN:case y.b.AB_COLUMN:case y.b.BA_COLUMN:return e%2===0?2:1;default:return 1}}(e.length,t),r=0;r<a;r++)n.push({configs:{},maxHeight:200,maxWidth:400,title:"Add Widget",widgetId:+new Date+r,widgetType:y.a.DEFAULT_WIDGET});return e.concat(n)},g=function(e){return e.filter(function(e){return e.widgetType!==y.a.DEFAULT_WIDGET||e.isEditing})},b=function(e,t){return e=e.filter(function(e){return e.widgetType!==y.a.DEFAULT_WIDGET||e.isEditing}),E(e,t)},O=function(e,t){return 0===e.filter(function(e){return e.widgetType===y.a.DEFAULT_WIDGET&&!e.isEditing}).length?E(e,t):e},T=n(21),_=n(223),I=function(e,t){var n=e?e.tasks:{};return Object(v.a)({},e,{tasks:Object(_.a)(n).concat([{id:t.id,task:t.task,isCompleted:!1,userId:1}])})},C=n(41),k=Object(d.c)({routing:s.c,dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.a.DASHBOARD_CREATION:return Object(v.a)({},e,a);case h.a.CHANGE_LAYOUT:return Object(v.a)({},e,{layoutType:a,widgets:b(e.widgets,a)});case h.a.UPDATE_CONFIG:return Object(v.a)({},e,{widgets:e.widgets.map(function(e){return e.widgetId===a.id?Object(v.a)({},e,{configs:a.configs}):e})});case h.a.EDIT_DASHBOARD:var r=a?E(e.widgets,e.layoutType):g(e.widgets);return a||(r=r.map(function(e){return Object(v.a)({},e,{isEditing:!1})})),Object(v.a)({},e,{isEdit:a,widgets:r});case h.a.DELETE_WIDGET:var o=e.widgets.filter(function(e){return e.widgetId!==a});return Object(v.a)({},e,{widgets:b(o,e.layoutType)});case h.a.WIDGET_SETTING:var i=e.widgets.map(function(e){return e.widgetId===a.id&&(e.isEditing=a.isEditing),e});return Object(v.a)({},e,{widgets:O(i,e.layoutType)});case h.a.UPDATE_COMMON_INFO:return Object(v.a)({},e,{widgets:e.widgets.map(function(e){return e.widgetId===a.widgetId?Object(v.a)({},e,a):e})});default:return e}},dataSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_SOURCE":return Object(v.a)({},e,Object(T.a)({},t.meta,t.payload));default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODO":return Object(v.a)({},e,Object(T.a)({},t.meta,{visibilityFilter:"SHOW_ALL",tasks:t.payload}));case"ADD_TODO":return Object(v.a)({},e,Object(T.a)({},t.widgetId,I(e[t.widgetId],t)));case"TOGGLE_TODO":var n=e[t.widgetId],a=n.tasks.map(function(e){return e.id===t.id?Object(v.a)({},e,{isCompleted:!e.isCompleted}):e});return Object(v.a)({},e,Object(T.a)({},t.widgetId,Object(v.a)({},n,{tasks:a})));case"REMOVE_TODO":var r=e[t.widgetId].tasks.filter(function(e){return e.id!==t.id});return Object(v.a)({},e,Object(T.a)({},t.widgetId,Object(v.a)({},n,{tasks:r})));case"SET_VISIBILITY_FILTER":return Object(v.a)({},e,Object(T.a)({},t.widgetId,Object(v.a)({},e[t.widgetId],{visibilityFilter:t.filter})));default:return e}},dataReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.meta,r=t.payload;switch(n){case"FETCH_REPORT":return Object(v.a)({},e,Object(T.a)({},a.dataType,Object(v.a)({},e[a.dataType],Object(T.a)({},a.dataField,Object.keys(r).map(function(e){return{name:e,y:r[e]}})))));default:return e}},stockTicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"FETCHING_STOCKS":return Object(v.a)({isFetching:!0},e);case"LOAD_INIT_STOCK":return{isFetching:!1,stocks:t.payload};case"UPDATE_PRICE":return Object(v.a)({},e,{stocks:e.stocks.map(function(e){return e.id===a.id?Object(v.a)({},a):e})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b.LOGIN_REQUEST:return Object(v.a)({},e,{isAuthenticated:!1,error:null});case C.b.LOGIN_SUCCEED:return Object(v.a)({},e,{isAuthenticated:!0,user:t.payload,error:null});case C.b.LOGIN_FAILED:return Object(v.a)({},e,{isAuthenticated:!1,error:t.payload});case C.b.LOGOUT_REQUEST:return Object(v.a)({},e,{isAuthenticated:!1,error:null,user:null});case C.b.SAVE_RETURN_URL:return Object(v.a)({},e,{returnUrl:t.payload});default:return e}}}),S=n(40),A=m()(),N=window.__INITIAL_STATE__,j=[f.a,Object(s.b)(A),function(e){return function(e){return function(t){var n=t[S.CALL_API];return n&&(n.headers=Object.assign({},n.headers,{Authorization:"Bearer "+localStorage.getItem("token")})),e(t)}}},S.apiMiddleware],D=d.d.apply(void 0,[d.a.apply(void 0,j)].concat([])),w=Object(d.e)(k,N,D),L=n(9),R=n(10),U=n(12),M=n(11),B=n(13),G=n(224),F=n(136),P=n.n(F),W=n(222),x=function(e){return function(t){function n(e){var t;return Object(L.a)(this,n),(t=Object(U.a)(this,Object(M.a)(n).call(this,e))).state={component:null},t}return Object(B.a)(n,t),Object(R.a)(n,[{key:"componentDidMount",value:function(){var t=Object(W.a)(P.a.mark(function t(){var n,a;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.default,this.setState({component:a});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?r.a.createElement(e,this.props):null}}]),n}(a.Component)},H=n(2089),q=n(2096),V=n(2095),z=n(2097),K=function(e){var t=function(t){function n(){return Object(L.a)(this,n),Object(U.a)(this,Object(M.a)(n).apply(this,arguments))}return Object(B.a)(n,t),Object(R.a)(n,[{key:"componentWillUpdate",value:function(e){var t=this.props,n=t.history,a=t.location,r=t.dispatch;e.isAuthenticated||(r(C.a.returnUrl(a.pathname)),n.push("/login"))}},{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(e,this.props):r.a.createElement("div",{className:"lds-hourglass"})}}]),n}(r.a.PureComponent);return Object(z.a)(Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(t))},Q=x(function(){return Promise.all([n.e(9),n.e(1)]).then(n.bind(null,2090))}),J=x(function(){return n.e(2).then(n.bind(null,2091))}),X=x(function(){return n.e(3).then(n.bind(null,2092))}),Y=x(function(){return n.e(4).then(n.bind(null,2098))}),$=x(function(){return Promise.all([n.e(8),n.e(5)]).then(n.bind(null,2093))}),Z=x(function(){return n.e(6).then(n.bind(null,2094))}),ee=function(e){var t=e.component,n=Object(G.a)(e,["component"]);return r.a.createElement(H.a,Object.assign({},n,{render:function(e){return r.a.createElement(Z,null,r.a.createElement(t,e))}}))},te=function(e){function t(){return Object(L.a)(this,t),Object(U.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(R.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchUserInfo()}},{key:"render",value:function(){return r.a.createElement(q.a,null,r.a.createElement(V.a,null,r.a.createElement(ee,{exact:!0,path:"/",component:K($)}),r.a.createElement(ee,{exact:!0,path:"/view/:id",component:K(Y)}),r.a.createElement(H.a,{exact:!0,path:"/login",component:Q}),r.a.createElement(H.a,{exact:!0,path:"/profile",component:K(J)}),r.a.createElement(H.a,{component:X})))}}]),t}(r.a.PureComponent),ne=Object(u.b)(null,{fetchUserInfo:C.c})(te);n(1117);i.a.render(r.a.createElement(u.a,{store:w},r.a.createElement(s.a,{history:A},r.a.createElement(ne,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");c?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()},137:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a={A_COLUMN:"A_COLUMN",AA_COLUMN:"AA_COLUMN",AAA_COLUMN:"AAA_COLUMN",AB_COLUMN:"AB_COLUMN",BA_COLUMN:"BA_COLUMN",ABA_COLUMN:"ABA_COLUMN"},r={A_COLUMN:{oddClass:"col-12",evenClass:"col-12"},AA_COLUMN:{oddClass:"col-6",evenClass:"col-6"},AAA_COLUMN:{oddClass:"col-4",evenClass:"col-4"},AB_COLUMN:{oddClass:"col-4",evenClass:"col-8"},BA_COLUMN:{oddClass:"col-8",evenClass:"col-4"},ABA_COLUMN:{oddClass:"col-3",evenClass:"col-6"}}},17:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});n(21),n(40);var a=n(27),r={DASHBOARD_CREATION:"DASHBOARD_CREATION",CHANGE_LAYOUT:"CHANGE_LAYOUT",EDIT_DASHBOARD:"EDIT_DASHBOARD",UPDATE_CONFIG:"UPDATE_CONFIG",DELETE_WIDGET:"DELETE_WIDGET",WIDGET_SETTING:"WIDGET_SETTING",UPDATE_COMMON_INFO:"UPDATE_COMMON_INFO"},o={createDashboard:function(e){return{type:r.DASHBOARD_CREATION,payload:e}},changeLayout:function(e){return{type:r.CHANGE_LAYOUT,payload:e}},updateConfig:function(e,t){return{type:r.UPDATE_CONFIG,payload:{id:e,configs:t}}},switchMode:function(e){return{type:r.EDIT_DASHBOARD,payload:e}},deleteWidget:function(e){return{type:r.DELETE_WIDGET,payload:e}},goToSetting:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:r.WIDGET_SETTING,payload:{isEditing:t,id:e}}},updateWidgetInfo:function(e){return{type:r.UPDATE_COMMON_INFO,payload:e}}},i=function(){return function(e){a.b.on("value",function(t){e(o.createDashboard(t.val()))})}}},195:function(e,t,n){},220:function(e,t){e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"isRoot",value:function(e){return!e.superiorId}},{key:"findRoot",value:function(e){for(var t in e)if(this.isRoot(e[t]))return e[t]}},{key:"getMaxId",value:function(e){return e.reduce(function(e,t){return t.id>e.id?t:e}).id}},{key:"findEmployeeIndexByFullId",value:function(e,t){if(e)for(var n in t)if(t[n].fullId===e)return n;return-1}},{key:"groupBySuperiorId",value:function(e){return e.reduce(function(e,t){return e[t.superiorId]=e[t.superiorId]||[],e[t.superiorId].push(t),e},{})}},{key:"bindEvent",value:function(e,t,n,a){var r=document.querySelector(e);r.addEventListener(t,function(e){for(var t=r.querySelectorAll(n),o=e.target,i=0,c=t.length;i<c;i++)for(var l=o,u=t[i];l&&l!==r;){if(l===u)return a.call(u,e);l=l.parentNode}})}},{key:"debounce",value:function(e,t,n){var a=void 0;return function(){var r=this,o=arguments,i=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(r,o)},t),i&&e.apply(r,o)}}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=new((a=o)&&a.__esModule?a:{default:a}).default,l=[],u=null,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"initBreadcrumbs",value:function(e){document.getElementById("breadcrumbs").innerHTML=this.createBreadcrumbs(),this.createActionsForBreadcrumbs()}},{key:"createBreadcrumbs",value:function(){return'<ul class="breadcrumbs__container" name="breadcrumbs_container">\n\t\t\t\t\t<li><a class="fas fa-sitemap"></a></li>\n\t\t\t\t</ul>'}},{key:"getSuperiorInfo",value:function(e){for(var t=[];e&&e.parentElement;){if("LI"===e.parentElement.nodeName&&e.parentElement.id){var n=e.parentElement.querySelector("[name='fullName']").innerHTML;t=[{id:e.parentElement.id,name:n}].concat(i(t))}e=e.parentElement}return l=[].concat(i(l),i(t))}},{key:"createBreadcrumbsBySuperiorInfo",value:function(e,t){var n=document.querySelector("#breadcrumbs [name='breadcrumbs_container']");for(var a in n.innerHTML='<li><a class="fas fa-sitemap"></a></li>',e)n.insertAdjacentHTML("beforeend",'<li><a data-id="'+e[a].id+'" class="link">'+e[a].name+"</a></li>");n.insertAdjacentHTML("beforeend",'<li><a class="selected">'+t+"</a></li>")}},{key:"updateBreadcrumbs",value:function(e){var t=document.querySelector("#"+e),n=t&&t.querySelector("[name='fullName']").innerHTML,a=this.getSuperiorInfo(t);this.createBreadcrumbsBySuperiorInfo(a,n)}},{key:"renderBreadcrumbs",value:function(e){var t=l.find(function(t){return t.id===e}),n=l.findIndex(function(t){return t.id===e});l.splice(n,l.length),this.createBreadcrumbsBySuperiorInfo(l,t.name)}},{key:"createActionsForBreadcrumbs",value:function(){var e=this;c.bindEvent("#breadcrumbs","click","li",function(t){var n=t.target.getAttribute("data-id");n&&(e.renderBreadcrumbs(n),u&&u(n))})}},{key:"callbackWhenBreadcrumbsChanged",value:function(e){u=e}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlay=document.getElementById("overlay")}return a(e,[{key:"closeDialog",value:function(e,t,n){var a=document.querySelector("#dialog-"+e+" [name='dialog-delete']"),r=document.querySelector("#dialog-"+e+" [name='dialog-cancel']");a.removeEventListener("click",t),r.removeEventListener("click",n),this.overlay.style.display="none"}},{key:"createDialog",value:function(e){this.overlay.innerHTML="";var t='<div id="dialog-'+e+'" class="dialog">\n\t\t\t\t\t\t\t\t<div class="dialog__content">\n\t\t\t\t\t\t\t\t\t<strong>Do you want to delete the selected card?</strong>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="dialog__footer">\n\t\t\t\t\t\t\t\t\t<button class="btn--primary" name="dialog-delete">Delete</button>\n\t\t\t\t\t\t\t\t\t<button class="btn--default" name="dialog-cancel">Cancel</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>';this.overlay.innerHTML+=t}},{key:"openDialog",value:function(e,t,n){var a=this;this.createDialog(e);var r=document.querySelector("#dialog-"+e+" [name='dialog-delete']"),o=document.querySelector("#dialog-"+e+" [name='dialog-cancel']");this.overlay.style.display="block",this.overlay.style.width=document.querySelector("body").scrollWidth+"px",this.overlay.style.height=document.querySelector("body").scrollHeight+"px";var i=function t(r){n&&n(),a.closeDialog(e,c,t)},c=function n(r){t&&t(),a.closeDialog(e,n,i)};r.addEventListener("click",c),o.addEventListener("click",i)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"apiCall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(a,r){var o=new XMLHttpRequest;o.open(e,t,n),o.onload=function(){4===this.readyState&&200===this.status?a(this.responseText):r(this.responseText)},o.send()})}},{key:"get",value:function(e,t){return this.apiCall("GET",e,t)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isExistInStorage=function(e){if("undefined"!==typeof Storage)return localStorage[e]},t.saveData=function(e){"undefined"!==typeof Storage&&(e&&"object"===("undefined"===typeof e?"undefined":a(e))?localStorage.setItem("contacts",JSON.stringify(e)):localStorage.setItem("contacts",e))},t.getData=function(e){if("undefined"!==typeof Storage)return localStorage.getItem(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=u(n(3)),o=u(n(2)),i=n(4),c=u(n(0)),l=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var s=new r.default,d=new o.default,f=new c.default,p=new l.default,m=[],v=void 0,h=null,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootEmployeeId=n,this.employeeList=t}return a(e,[{key:"parseRawEmpList",value:function(e){for(var t in e)e[t].fullId="id-"+e[t].id,e[t].fullSuperiorId=e[t].superiorId?"id-"+e[t].superiorId:void 0,e[t].fullName=e[t].firstName+" "+e[t].lastName,e[t].avatarFullPath="../images/"+e[t].avatar;return e}},{key:"initEmployeeTree",value:function(e){var t=this;this.employeeList?(m=this.parseRawEmpList(this.employeeList),this.buildEmployeeTree(m,e)):this.getEmployee().then(function(n){var a=n||[];a.length&&t.buildEmployeeTree(a,e)})}},{key:"buildEmployeeTree",value:function(e,t){var n=this,a=this.rootEmployeeId?e.find(function(e){return e.id===n.rootEmployeeId}):f.findRoot(e);document.getElementById(t).innerHTML="<ul>"+this.createNode(a)+"</ul>",this.insertAllNodes(a),!this.employeeList&&this.createActionForAllNodes(e)}},{key:"getEmployee",value:function(){var e=this;return new Promise(function(t,n){(0,i.isExistInStorage)("contacts")?(m=JSON.parse((0,i.getData)("contacts")),t(m)):s.get("data/contacts.json").then(function(t){m=e.parseRawEmpList(JSON.parse(t)),(0,i.saveData)(m)}).finally(function(){t(m)})})}},{key:"createNode",value:function(e){var t,n=["Management","Technology Services","IT","Vonage","Delivery","MarketLive","LexisNexis","LexisNexis Lizard"];return'\t<li id="'+e.fullId+'">\t  \t\t\t\n\t\t\t\t\t\t<a name="profile" draggable="true">\n\t\t\t\t\t\t\t<div class="profile__container">\n\t\t\t\t\t\t\t\t<div name="info" class="profile__container__basic">\n\t\t\t\t\t\t\t\t\t<div name="avatar" class="profile__container__basic__avatar"><img src='+e.avatarFullPath+'></div>\n\t\t\t\t\t\t\t\t\t<div  class="profile__container__basic__info">\n\t\t\t\t\t\t\t\t\t\t<div class="name" name="fullName">'+e.fullName+' </div>\n\t\t\t\t\t\t\t\t\t\t<div class="role" name="department">'+e.department+' </div>\n\t\t\t\t\t\t\t\t\t\t<div class="nickname" name="employeeId">'+e.employeeId+' </div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<i><small>@yahoo.com</small></i>\n\t\t\t\t\t\t\t\t\t\t</div>                                                                        \n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div  name="info_edit" class="profile__container__basic--edit">\n\t\t\t\t\t\t\t\t\t<input type="file" name="avatar_upload" class="profile__container__basic__avatar-upload--edit">\n\t\t\t\t\t\t\t\t\t<div name="avatar" class="profile__container__basic__avatar--edit"><img src='+e.avatarFullPath+'></div>\n\t\t\t\t\t\t\t\t\t<div class="profile__container__basic__info--edit">\n\t\t\t\t\t\t\t\t\t\t<div class="name">\n\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="fullName" value="'+e.fullName+'">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="role">\n\t\t\t\t\t\t\t\t\t\t\t'+(t=e.department,'<select type="text" name="department" value="'+e.department+'">\n\t\t\t\t\t\t'+n.map(function(e){return"<option "+(e===t?"selected":"")+">"+e+"</option>"})+"\n\t\t\t\t\t</select>")+'\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="nickname">\n\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="employeeId" value="'+e.employeeId+'">\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<i><small>@yahoo.com</small></i>\n\t\t\t\t\t\t\t\t\t\t</div>                                                                        \n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div name="action" class="profile__container__action">\n\t\t\t\t\t\t\t\t\t<i class="far fa-edit" name="edit_button"></i>\n\t\t\t\t\t\t\t\t\t'+(f.isRoot(e)?"":'<i class="fas fa-arrow-right" name="create_peer_button"></i>')+'\n\t\t\t\t\t\t\t\t\t<i class="fas fa-arrow-down" name="create_child_button"></i>\n\t\t\t\t\t\t\t\t\t'+(f.isRoot(e)?"":'<i class="fas fa-trash-alt" name="delete_button"></i>')+'\t\n\t\t\t\t\t\t\t\t\t \t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="toggle-tree">                            \n                                <i name="expand_button" class="fas fa-plus-circle"></i>\n                                <i name="collapse_button" class="fas fa-minus-circle"></i>\n                            </div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>'}},{key:"showHideInfo",value:function(e,t,n){document.querySelector("#"+e+" [name="+t+"]").style.display="flex",document.querySelector("#"+e+" [name="+n+"]").style.display="none"}},{key:"getEditedInfo",value:function(e){return{fullName:document.querySelector("#"+e+" [name='info_edit'] [name='fullName']").value,department:document.querySelector("#"+e+" [name='info_edit'] [name='department']").value,employeeId:document.querySelector("#"+e+" [name='info_edit'] [name='employeeId']").value,avatarFullPath:document.querySelector("#"+e+" [name='info_edit'] [name='avatar'] img").getAttribute("src")}}},{key:"displayEditedInfo",value:function(e,t){document.querySelector("#"+e+" [name='info'] [name='fullName']").innerHTML=t.fullName,document.querySelector("#"+e+" [name='info'] [name='department']").innerHTML=t.department,document.querySelector("#"+e+" [name='info'] [name='employeeId']").innerHTML=t.employeeId,document.querySelector("#"+e+" [name='info'] [name='avatar'] img").src=t.avatarFullPath}},{key:"saveEditedInfo",value:function(e,t){var n=f.findEmployeeIndexByFullId(e,m);n>=0&&(m[n].fullName=t.fullName,m[n].department=t.department,m[n].employeeId=t.employeeId,m[n].avatarFullPath=t.avatarFullPath,(0,i.saveData)(m))}},{key:"getAllChildIds",value:function(e){var t=e&&e.querySelectorAll("li"),n=[];if(t.length)for(var a=0,r=t.length;a<r;a++)n.push(t[a].id);return n}},{key:"getFirstLevelChilds",value:function(e){var t=e&&e.querySelector("ul"),n=[];if(t&&t.children.length)for(var a=0,r=t.children.length;a<r;a++)n.push(t.children[a].id);return n}},{key:"createEmpInfo",value:function(e,t){var n=void 0;if(t)return n=f.getMaxId(m)+1,{fullName:"",department:t.department,employeeId:"",avatarFullPath:"../images/avatar.png",id:n,fullId:"id-"+n}}},{key:"createPeerNode",value:function(e){var t=m[f.findEmployeeIndexByFullId(e,m)],n=this.createEmpInfo(e,t);n.superiorId=t.superiorId,n.fullSuperiorId=t.fullSuperiorId,m.push(n);var a=this.createNode(n);document.querySelector("#"+e).insertAdjacentHTML("afterend",a)}},{key:"createChildNode",value:function(e){var t=m[f.findEmployeeIndexByFullId(e,m)],n=this.createEmpInfo(e,t);n.superiorId=t.id,n.fullSuperiorId=t.fullId,m.push(n);var a=this.createNode(n);this.insertNode(a,e)}},{key:"deleteNode",value:function(e){var t=document.querySelector("li#"+e);if(t){var n=t.parentElement;1===n.childElementCount?n.parentElement.removeChild(n):n.removeChild(t),this.deleteNodeTree(e),(0,i.saveData)(m)}}},{key:"deleteNodeTree",value:function(e){var t=f.groupBySuperiorId(m),n=f.findEmployeeIndexByFullId(e,m),a=m[n];if(t[a.id])for(var r in t[a.id]){var o=t[a.id][r];this.deleteNodeTree(o.fullId)}m.splice(n,1)}},{key:"handleClickOutSideSelectedNode",value:function(){var e=this.getEditedInfo(v);document.querySelector("#"+v+" [name='action']").style.display="none",this.showHideInfo(v,"info","info_edit"),this.saveEditedInfo(v,e),this.displayEditedInfo(v,e)}},{key:"handleClickInsideNode",value:function(e){v!==e&&(document.querySelector("#"+e+" [name='action']").style.display="flex",v&&this.handleClickOutSideSelectedNode(),v=e)}},{key:"handleClickAvatar",value:function(e){if(v===e){var t=document.querySelector("#"+e+" [name='info_edit'] [name='avatar_upload']");t&&t.click()}}},{key:"handleClickEdit",value:function(e){v===e&&this.showHideInfo(e,"info_edit","info")}},{key:"handleClickCreatePeer",value:function(e){var t=m[f.findEmployeeIndexByFullId(e,m)];f.isRoot(t)||this.createPeerNode(e)}},{key:"handleClickCreateChild",value:function(e){this.createChildNode(e)}},{key:"handleClickDelete",value:function(e){var t=this,n=m[f.findEmployeeIndexByFullId(e,m)];f.isRoot(n)||d.openDialog(e,function(n){t.deleteNode(e),v=void 0})}},{key:"handleClickToggle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.querySelector("#"+e+" >a .toggle-tree [name='expand_button']"),a=document.querySelector("#"+e+" >a .toggle-tree [name='collapse_button']"),r=document.querySelector("#"+e+" >ul");r&&(t?(n.style.display="block",a.style.display="none",r.style.display="none"):(n.style.display="none",a.style.display="block",r.style.display="flex"))}},{key:"handleDoubleClick",value:function(){var e=this;f.bindEvent("#tree","dblclick",'[name="profile"]',function(t){var n=t.target.closest("li").id;p.updateBreadcrumbs(n),e.renderTreeByRootId(n)})}},{key:"handleActionsOnNode",value:function(){var e=this;f.bindEvent("#tree","click",'[name="profile"]',function(t){var n=t.target,a=n.closest("li"),r=n.closest('div[name="info_edit"]'),o=a.id,i={edit_button:function(t){return e.handleClickEdit(t)},create_peer_button:function(t){return e.handleClickCreatePeer(t)},create_child_button:function(t){return e.handleClickCreateChild(t)},delete_button:function(t){return e.handleClickDelete(t)},collapse_button:function(t){return e.handleClickToggle(t,!0)},expand_button:function(t){return e.handleClickToggle(t,!1)}};"IMG"===n.tagName&&r?e.handleClickAvatar(o):i[n.getAttribute("name")]?i[n.getAttribute("name")](o):e.handleClickInsideNode(o),t.stopPropagation()})}},{key:"handleUploadingAvatar",value:function(){f.bindEvent("#tree","change",'[name="info_edit"] [name="avatar_upload"]',function(e){if(this.files&&this.files[0]){var t=this.closest("li").id,n=document.querySelector("#"+t+" [name='info_edit'] [name='avatar'] img"),a=new FileReader;a.readAsDataURL(this.files[0]),a.onload=function(e){n.setAttribute("src",a.result)}}})}},{key:"handleDragAndDrop",value:function(){var e=this;f.bindEvent("#tree","dragstart",'a[name="profile"]',function(e){h=e.target.closest("li"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.innerHTML),this.style.opacity=.3}),f.bindEvent("#tree","dragend",'a[name="profile"]',function(e){this.style.opacity=""}),f.bindEvent("#tree","dragleave",'a[name="profile"]',function(e){e.preventDefault(),this.style.border=""}),f.bindEvent("#tree","dragover",'a[name="profile"]',function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",this.style.border="2px dashed black",!1}),f.bindEvent("#tree","drop",'a[name="profile"]',function(t){var n=t.target.closest("li"),a=n.querySelector("a[name='profile']"),r=e.getAllChildIds(h).includes(n.id),o=e.getFirstLevelChilds(n).includes(h.id);if(a.style.border="",t.preventDefault(),h!==n&&!r&&!o){var c=e.getFirstLevelChilds(h),l=h.parentElement;if(n.getElementsByTagName("ul").length||n.insertAdjacentHTML("beforeend","<ul></ul>"),c.length){for(var u=0;u<c.length;u++)h.parentElement.appendChild(document.getElementById(c[u]));var s=h.querySelector("ul");s.parentElement.removeChild(s)}n.querySelector("ul").appendChild(h),l.childElementCount<1&&l.parentElement.removeChild(l);var d=f.findEmployeeIndexByFullId(h.id,m),p=f.findEmployeeIndexByFullId(n.id,m);m[d].superiorId=m[p].id,m[d].fullSuperiorId=m[p].fullId,(0,i.saveData)(m)}})}},{key:"renderTreeByRootId",value:function(e){var t=m[f.findEmployeeIndexByFullId(e,m)];document.getElementById("tree").innerHTML="<ul>"+this.createNode(t)+"</ul>",this.insertAllNodes(t)}},{key:"createActionForAllNodes",value:function(){var e=this;p.callbackWhenBreadcrumbsChanged(this.renderTreeByRootId.bind(this)),this.handleActionsOnNode(),this.handleDoubleClick(),this.handleUploadingAvatar(),this.handleDragAndDrop(),window.onclick=function(t){v&&(e.handleClickOutSideSelectedNode(),v=void 0)}}},{key:"insertNode",value:function(e,t){var n=document.getElementById(t),a=n&&n.getElementsByTagName("ul");a[0]?a[0].insertAdjacentHTML("beforeend",e):n.insertAdjacentHTML("beforeend","<ul>"+e+"</ul>")}},{key:"insertAllNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.groupBySuperiorId(m);for(var n in t[e.id]){var a=t[e.id][n],r=this.createNode(a);a.superiorId&&(this.insertNode(r,a.fullSuperiorId),this.insertAllNodes(a,t))}}}]),e}();t.default=y}])},228:function(e,t,n){e.exports=n(1121)},27:function(e,t,n){"use strict";var a=n(72),r=n.n(a);n(308),n(226);n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"c",function(){return r.a}),r.a.initializeApp({apiKey:"AIzaSyAXU2M8tukuxhB_BMDoyWCEVSEFpD_OOb8",authDomain:"dashboard-64a35.firebaseapp.com",databaseURL:"https://dashboard-64a35.firebaseio.com/"});var o=r.a.database().ref(),i=o.child("dashboard"),c=o.child("contacts"),l=o.child("tasks"),u=o.child("stocks"),s=o.child("reports"),d=o.child("users");r.a.auth().useDeviceLanguage()},36:function(e,t,n){"use strict";var a=n(137),r=n(0),o=n.n(r),i=n(43),c=n(215),l=n(9),u=n(10),s=n(12),d=n(11),f=n(13),p=n(216),m=n.n(p),v=n(217),h=n.n(v),y=n(14),E=(n(40),n(27)),g=function(e){return function(t){var n="contacts";switch(e){case"contacts":default:n="contacts"}E.a.on("value",function(e){t({type:"FETCH_DATA_SOURCE",meta:n,payload:e.val()})})}},b=n(32),O=function(e,t){var n=e.dataSource,a=t.configs.dataSource||"contacts",r=n&&n[a];return r||null},T=Object(b.createSelector)([O],function(e){return e}),_=Object(b.createSelector)([function(e,t){var n=[];return t.configs.selectedColumns.forEach(function(e){n.push({dataField:e,text:e})}),n}],function(e){return e}),I=Object(b.createSelector)([O,function(e,t){return t.configs.selectedColumns||[]}],function(e,t){return e&&e.length?Object.keys(e[0]).filter(function(e){return!t.includes(e)}):[]}),C=(n(195),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.data,n=e.configs,a=e.dispatch;t||a(g(n.dataSource))}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.displayedColumns,r={sizePerPage:5,showTotal:!0,alwaysShowAllBtns:!0,hideSizePerPage:!0,hidePageListOnlyOnePage:!0,paginationTotalRenderer:function(t,n,a){return o.a.createElement("span",null,t," to ",n," of ",a," ",e.props.configs.dataSource)}};return n?o.a.createElement(m.a,{keyField:"id",data:n,columns:a,pagination:h()(r),bordered:!1,striped:!0,hover:!0,condensed:!0}):o.a.createElement("div",{className:"box-view"},"No data to display")}}]),t}(o.a.PureComponent)),k=Object(y.b)(function(e,t){return{data:T(e,t),displayedColumns:_(e,t)}})(C),S=n(16),A=n(29),N=25,j="SHOW_ALL",D="SHOW_COMPLETED",w="SHOW_ACTIVE",L=function(e,t){return{type:"ADD_TODO",id:N++,task:t,widgetId:e}},R=function(e,t){return{type:"TOGGLE_TODO",id:t,widgetId:e}},U=function(e,t){return{type:"REMOVE_TODO",id:t,widgetId:e}},M=function(e,t){return{type:"SET_VISIBILITY_FILTER",widgetId:e,filter:t}},B=(n(1066),function(e){return o.a.createElement("div",{className:"d-block mx-auto box-view"},o.a.createElement(S.h,{className:"todo__input"},o.a.createElement(S.g,{onKeyPress:e.onEnter,className:"input--custom",placeholder:"What needs to be done?"})),o.a.createElement("div",{className:"todo__header"},o.a.createElement("span",{className:"todo__remain"},e.numberOfIncompletedTasks," items left"),o.a.createElement("span",{className:"todo__filter"},o.a.createElement(S.b,{size:"sm",onClick:e.setVisibilityFilter(j)},"All"),o.a.createElement(S.b,{size:"sm",onClick:e.setVisibilityFilter(w)},"Active"),o.a.createElement(S.b,{size:"sm",onClick:e.setVisibilityFilter(D)},"Completed"))),o.a.createElement(S.o,null,o.a.createElement("tbody",null,e.todos.map(function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("th",{onClick:e.updateTodo(t.id),className:"task__toggle"},t.isCompleted?o.a.createElement(A.FaCheckCircleO,{size:26}):o.a.createElement(A.FaCircleO,{size:26})),o.a.createElement("td",{className:t.isCompleted?"task--completed":""},t.task),o.a.createElement("td",{onClick:e.deleteTodo(t.id),className:"task__remove"},o.a.createElement(A.FaClose,{size:24})))}))))}),G=function(e,t){var n=e[t.widgetId];return n?n.visibilityFilter:"SHOW_ALL"},F=function(e,t){var n=e[t.widgetId];return n?n.tasks:[]},P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onEnterPress=function(e){"Enter"===e.key&&(n.props.addToDo(n.props.widgetId,e.target.value),e.target.value="")},n.setVisibilityFilter=function(e){return function(t){n.props.setFilter(e)}},n.updateTodo=function(e){return function(t){n.props.toggleTodo(e)}},n.deleteTodo=function(e){return function(t){n.props.removeTodo(e)}},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.fetchToDoList)(e.widgetId)}},{key:"render",value:function(){return o.a.createElement(B,Object.assign({onEnter:this.onEnterPress,setVisibilityFilter:this.setVisibilityFilter,updateTodo:this.updateTodo,deleteTodo:this.deleteTodo},this.props))}}]),t}(o.a.PureComponent),W=Object(y.b)(function(){var e=Object(b.createSelector)([G,F],function(e,t){switch(e){case"SHOW_COMPLETED":return t.filter(function(e){return e.isCompleted});case"SHOW_ACTIVE":return t.filter(function(e){return!e.isCompleted});default:return t}}),t=Object(b.createSelector)([F],function(e){return e.filter(function(e){return!e.isCompleted}).length});return function(n,a){return{todos:e(n.todos,a),numberOfIncompletedTasks:t(n.todos,a),filter:G(n.todos,a)}}},function(e,t){return{addToDo:function(t,n){return e(L(t,n))},fetchToDoList:function(t){return e((n=t,function(e){E.f.on("value",function(t){e({type:"FETCH_TODO",meta:n,payload:t.val()})})}));var n},setFilter:function(n){return e(M(t.widgetId,n))},toggleTodo:function(n){return e(R(t.widgetId,n))},removeTodo:function(n){return e(U(t.widgetId,n))}}})(P),x=function(e,t){return function(n){var a=e.toLowerCase(),r=t.toLowerCase();E.d.child(r).on("value",function(e){n({type:"FETCH_REPORT",meta:{dataType:a,dataField:r},payload:e.val()})})}},H=Object(b.createSelector)([function(e,t){var n=e.dataReport,a=t.configs.dataSource,r=t.configs.groupBy,o=n[a]&&n[a][r];return o||null}],function(e){return e}),q=Object(b.createSelector)([function(e,t){var n=e.dataSource,a=t.configs.dataSource||"contacts",r=n&&n[a];return r?r[0]:{}}],function(e){return Object.keys(e).map(function(e){return{name:e.charAt(0).toUpperCase()+e.slice(1),value:e}})}),V=n(219),z=n.n(V),K=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderChart",value:function(){var e=this.props,t=e.configs,n=e.widgetId,a=e.dataReport,r={chart:{type:t.chartType,height:this.props.isScale?"auto":300},title:{text:null},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{name:"Total",data:a}]};this.highChart=z.a.chart("container_".concat(n),r)}},{key:"componentWillMount",value:function(){var e=this.props,t=e.configs;e.dataReport||this.props.dispatch(x(t.dataSource,t.groupBy))}},{key:"componentDidMount",value:function(){this.props.dataReport&&this.renderChart()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.configs,n=e.dataReport,a=e.dispatch;n?this.renderChart():a(x(t.dataSource,t.groupBy))}},{key:"render",value:function(){var e=this.props.widgetId;return o.a.createElement("div",{id:"container_".concat(e),className:"d-block mx-auto"})}}]),t}(o.a.PureComponent),Q=Object(y.b)(function(e,t){return{dataReport:H(e,t)}})(K),J=(n(1068),n(1096),function(e){var t=e.stock,n=e.onRemove;return o.a.createElement("span",{className:"badge badge-info"},t.code," ",o.a.createElement("span",{onClick:n,className:"stock-close"},"\xd7"))}),X=function(e){return o.a.createElement(S.o,null,o.a.createElement("tbody",null,e.stocks.map(function(e){var t=e.change>0?o.a.createElement("span",{className:"arrow-up"},o.a.createElement(A.FaArrowUp,null)," ",e.change):o.a.createElement("span",{className:"arrow-down"},o.a.createElement(A.FaArrowDown,null)," ",e.change);return o.a.createElement("tr",{key:e.id},o.a.createElement("th",null,e.code),o.a.createElement("td",null,e.price),o.a.createElement("td",null,t))})))},Y=Object(b.createSelector)([function(e,t){var n=t.configs.codes,a=e.stockTicker.stocks;return a?a.filter(function(e){return n.includes(e.code)}):[]}],function(e){return e}),$=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(function(e){E.e.on("value",function(t){e({type:"LOAD_INIT_STOCK",payload:t.val()})})})}},{key:"render",value:function(){return o.a.createElement(X,this.props)}}]),t}(o.a.PureComponent),Z=Object(y.b)(function(e,t){return{stocks:Y(e,t)}})($),ee=n(220),te=n.n(ee),ne=(n(1098),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderOrgChart",value:function(){var e=this.props,t=e.configs,n=e.contacts,a=e.widgetId;n&&t.rootEmployeeId&&(this.chart=new te.a(n,t.rootEmployeeId),this.chart.initEmployeeTree("tree_"+a))}},{key:"componentWillMount",value:function(){this.props.contacts||this.props.dispatch(g())}},{key:"componentDidUpdate",value:function(){this.renderOrgChart()}},{key:"componentDidMount",value:function(){this.renderOrgChart()}},{key:"render",value:function(){var e=this.props,t=e.widgetId,n=e.isScale;return o.a.createElement("div",{id:"tree_"+t,className:n?"no-scale tree":"scale tree"})}}]),t}(o.a.PureComponent)),ae=Object(y.b)(function(e){return{contacts:e.dataSource.contacts}})(ne),re=n(17),oe=(n(1100),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props,t=e.dispatch,a=e.widgetId;t(re.b.goToSetting(a))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onClick:this.onClick,className:"add-content"},o.a.createElement(A.FaPlus,{size:100}))}}]),t}(o.a.PureComponent)),ie=Object(y.b)()(oe),ce=n(221),le=(n(1102),function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).onEditorStateChange=function(e){n.setState({editorState:e})};var a=n.props.configs&&n.props.configs.rawContent;return n.state={editorState:a?i.EditorState.createWithContent(Object(i.convertFromRaw)(n.props.configs.rawContent)):i.EditorState.createEmpty()},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,n=e.widgetId,a=Object(i.convertToRaw)(this.state.editorState.getCurrentContent());t(re.b.updateConfig(n,{rawContent:a}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement(ce.Editor,{editorState:this.state.editorState,wrapperClassName:"text-wrapper",editorClassName:"text-editor",onEditorStateChange:this.onEditorStateChange}))}}]),t}(o.a.PureComponent)),ue=Object(y.b)()(le),se=n(208),de=n.n(se),fe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).setDataSource=function(e){n.setState({dataSource:e.target.value})},n.state={dataSource:n.props.configs.dataSource||"contacts"},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.drake=de()([document.getElementById("left-side"),document.getElementById("right-side")])}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,n=e.widgetId,a=e.configs,r=[];document.querySelectorAll("#right-side .column-items").forEach(function(e){r.push(e.textContent)}),this.drake.destroy(),a.selectedColumns=r,t(re.b.updateConfig(n,a))}},{key:"render",value:function(){var e=this.props,t=e.availableColumns,n=e.configs;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement(S.i,{for:"title"},"Data source"),o.a.createElement(S.g,{type:"select",defaultValue:this.state.dataSource,onChange:this.setDataSource},o.a.createElement("option",{value:"contacts"},"Contacts"),o.a.createElement("option",{value:"accounts"},"Accounts"))),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement(S.i,null,"Columns:"),o.a.createElement("ul",{id:"left-side",className:"columns"},t.map(function(e){return o.a.createElement("li",{key:e,className:"column-items"},e)}))),o.a.createElement("div",{className:"col-6"},o.a.createElement(S.i,null,"Selected Columns:"),o.a.createElement("ul",{id:"right-side",className:"columns"},n.selectedColumns&&n.selectedColumns.map(function(e){return o.a.createElement("li",{key:e,className:"column-items"},e)}))))))}}]),t}(o.a.PureComponent),pe=Object(y.b)(function(e,t){return{availableColumns:I(e,t)}})(fe),me=n(5),ve=(n(1113),function(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 d-flex justify-content-center"},o.a.createElement("span",{onClick:e.setChartType("pie"),className:"pie"===e.configs.chartType?"chart-type active":"chart-type"},o.a.createElement(A.FaPieChart,{size:40})),o.a.createElement("span",{onClick:e.setChartType("line"),className:"line"===e.configs.chartType?"chart-type active":"chart-type"},o.a.createElement(A.FaLineChart,{size:40})),o.a.createElement("span",{onClick:e.setChartType("bar"),className:"bar"===e.configs.chartType?"chart-type active":"chart-type"},o.a.createElement(A.FaBarChart,{size:40}))),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement(S.i,null,"Data source"),o.a.createElement(S.g,{type:"select",defaultValue:e.configs.dataSource,onChange:e.setDataSource},o.a.createElement("option",{value:"contacts"},"Contacts"),o.a.createElement("option",{value:"accounts"},"Accounts"))),o.a.createElement("div",{className:"col-6"},o.a.createElement(S.i,null,"Group by"),o.a.createElement(S.g,{type:"select",defaultValue:e.configs.groupBy,onChange:e.setGroupByProperty},e.groups.map(function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.name)}))))))}),he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).setChartType=function(e){return function(){n.setState({chartType:e})}},n.setDataSource=function(e){n.setState({dataSource:e.target.value})},n.setGroupByProperty=function(e){n.setState({groupBy:e.target.value})},n.state={chartType:n.props.configs.chartType||"pie",dataSource:n.props.configs.dataSource||"contacts",groupBy:n.props.configs.groupBy||"title"},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,n=e.widgetId;t(re.b.updateConfig(n,this.state))}},{key:"render",value:function(){var e=Object(me.a)({},this.props,{configs:this.state});return o.a.createElement(ve,Object.assign({},e,{setChartType:this.setChartType,setDataSource:this.setDataSource,setGroupByProperty:this.setGroupByProperty}))}}]),t}(o.a.PureComponent),ye=Object(y.b)(function(e,t){return{groups:q(e,t)}})(he),Ee=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).onRemove=function(e){document.querySelector(".stock-container").removeChild(e.target.parentNode)},n.state={codes:e.configs.codes},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,n=e.widgetId,a=e.configs,r=document.querySelectorAll(".stock-container .badge"),o=[];r.forEach(function(e){e.removeChild(e.querySelector(".stock-close")),o.push(e.textContent.trim())}),a.codes=o,t(re.b.updateConfig(n,a))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},"Stock Codes:"),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"stock-container"},this.props.stocks.map(function(t,n){return o.a.createElement(J,{onRemove:e.onRemove,key:n,stock:t})}))))}}]),t}(o.a.PureComponent),ge=Object(y.b)(function(e){return{stocks:e.stockTicker.stocks}})(Ee),be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).setRootEmployee=function(e){n.setState({rootEmployeeId:parseInt(e.target.value,10)})},n.state={rootEmployeeId:n.props.configs.rootEmployeeId||2},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,n=e.widgetId;t(re.b.updateConfig(n,this.state))}},{key:"render",value:function(){var e=this.props.contacts;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},"Root Contact:"),o.a.createElement("div",{className:"col-6"},o.a.createElement(S.g,{type:"select",defaultValue:this.state.rootEmployeeId,onChange:this.setRootEmployee},e&&e.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.firstName," ",e.lastName)}))))}}]),t}(o.a.PureComponent),Oe=Object(y.b)(function(e){return{contacts:e.dataSource.contacts}})(be),Te={TEXT_WIDGET:"TEXT_WIDGET",DATATABLE_WIDGET:"DATATABLE_WIDGET",TODOLIST_WIDGET:"TODOLIST_WIDGET",SIMPLECHART_WIDGET:"SIMPLECHART_WIDGET",STOCK_TICKER_WIDGET:"STOCK_TICKER_WIDGET",ORG_CHART_WIDGET:"ORG_CHART_WIDGET",DEFAULT_WIDGET:"DEFAULT_WIDGET"},_e={TEXT_WIDGET:function(e){var t=e.configs,n=t&&Object(i.convertFromRaw)(t.rawContent),a=n&&Object(c.stateToHTML)(n);return o.a.createElement("div",{className:"box-view",dangerouslySetInnerHTML:{__html:a}})},DATATABLE_WIDGET:k,TODOLIST_WIDGET:W,SIMPLECHART_WIDGET:Q,STOCK_TICKER_WIDGET:Z,ORG_CHART_WIDGET:ae,DEFAULT_WIDGET:ie},Ie={TEXT_WIDGET:ue,DATATABLE_WIDGET:pe,SIMPLECHART_WIDGET:ye,STOCK_TICKER_WIDGET:ge,ORG_CHART_WIDGET:Oe,TODOLIST_WIDGET:null,DEFAULT_WIDGET:null};n.d(t,"b",function(){return a.b}),n.d(t,"a",function(){return Te}),n.d(t,"d",function(){return _e}),n.d(t,"c",function(){return Ie})},41:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return l});var a=n(27),r={LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCEED:"LOGIN_SUCCEED",LOGIN_FAILED:"LOGIN_FAILED",LOGOUT_REQUEST:"LOGOUT_REQUEST",SAVE_RETURN_URL:"SAVE_RETURN_URL"},o={requestLogin:function(e){return{type:r.LOGIN_REQUEST,payload:e}},receivedLogin:function(e){return{type:r.LOGIN_SUCCEED,payload:e}},loginError:function(e){return{type:r.LOGIN_FAILED,payload:e}},logoutUser:function(){return{type:r.LOGOUT_REQUEST}},returnUrl:function(e){return{type:r.SAVE_RETURN_URL,payload:e}}},i=function(e,t){return function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t(o.requestLogin(e)),fetch("/api/accounts/login",n).then(function(e){return e&&e.json()}).then(function(e){e.error?t(o.loginError(e)):t(o.receivedLogin(e))},function(e){return console.log(e)})}},c=function(){return function(e){a.c.auth().onAuthStateChanged(function(t){e(t?o.receivedLogin(t):o.loginError())})}},l=function(e,t){a.g.child(e).update({credential:t.credential,additionalUserInfo:t.additionalUserInfo})}}},[[228,10,7]]]);
//# sourceMappingURL=main.29b3bf17.chunk.js.map