{"version":3,"sources":["pages/login/login.module.scss","pages/login/login.component.js"],"names":["module","exports","formSignIn","formContainer","authUi","Login","props","_this","Object","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_AnhHa_Downloads_Compressed_react_redux_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleChangeUsername","e","setState","username","target","value","handleChangePassword","password","onSubmit","_this$props","dispatch","history","loginUser","state","preventDefault","nextProps","_this$props2","returnUrl","isAuthenticated","push","authConfig","callbacks","signInSuccessWithAuthResult","result","id","additionalUserInfo","profile","saveUserInfo","signInFailure","error","console","log","signInOptions","firebase","auth","FacebookAuthProvider","PROVIDER_ID","GoogleAuthProvider","GithubAuthProvider","TwitterAuthProvider","signInFlow","signInSuccessUrl","firebaseui","AuthUI","start","delete","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","classes","reactstrap__WEBPACK_IMPORTED_MODULE_9__","color","for","autoFocus","type","placeholder","onChange","size","block","React","PureComponent","withRouter","connect"],"mappings":"8EACAA,EAAAC,QAAA,CAAkBC,WAAA,0BAAAC,cAAA,4NCSdC,EAAS,KAEPC,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAORQ,qBAAuB,SAAAC,GACrBR,EAAKS,SAAS,CACZC,SAAUF,EAAEG,OAAOC,SAVJZ,EAcnBa,qBAAuB,SAAAL,GACrBR,EAAKS,SAAS,CACZK,SAAUN,EAAEG,OAAOC,SAhBJZ,EAoBnBe,SAAW,SAAAP,GAAK,IAAAQ,EACgBhB,EAAKD,MAA3BkB,EADMD,EACNC,SAAUC,EADJF,EACIE,QAClBD,EAASE,YAAUnB,EAAKoB,MAAOF,IAC/BV,EAAEa,kBArBFrB,EAAKoB,MAAQ,CACXV,SAAU,GACVI,SAAU,IAJKd,mFA0BCsB,GAAW,IAAAC,EACEpB,KAAKJ,MAA5BmB,EADqBK,EACrBL,QAASM,EADYD,EACZC,UACbF,EAAUG,iBACZP,EAAQQ,KAAKF,GAAwB,iDAKvC,IAAMG,EAAa,CACjBC,UAAW,CACTC,4BAA6B,SAAAC,GAC3B,IAAMC,EAAKD,EAAOE,mBAAmBC,QAAQF,GAE7C,OADAG,YAAaH,EAAID,IACV,GAETK,cAAe,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,KAEtCG,cAAe,CACbC,IAASC,KAAKC,qBAAqBC,YACnCH,IAASC,KAAKG,mBAAmBD,YACjCH,IAASC,KAAKI,mBAAmBF,YACjCH,IAASC,KAAKK,oBAAoBH,aAEpCI,WAAY,QACZC,iBAAkB,MAEpBnD,EAAS,IAAIoD,IAAWR,KAAKS,OAAOV,IAASC,SACtCU,MAAM,kBAAmBxB,kDAIhC9B,EAAOuD,0CAGA,IACChB,EAAUjC,KAAKJ,MAAfqC,MACR,OACEiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAQ7D,eACtByD,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAQ9D,WAAYoB,SAAUZ,KAAKY,UAClDsC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,kBACCpB,GAASiB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOC,MAAM,UAAUvB,GACjCiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOE,IAAI,aAAaJ,UAAU,WAAlC,YAGAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACEG,WAAS,EACTC,KAAK,OACLC,YAAY,WACZnD,MAAOT,KAAKiB,MAAMV,SAClBsD,SAAU7D,KAAKI,wBAGnB8C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAOE,IAAI,gBAAgBJ,UAAU,WAArC,YAGAH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACEI,KAAK,WACLC,YAAY,WACZnD,MAAOT,KAAKiB,MAAMN,SAClBkD,SAAU7D,KAAKU,wBAGnBwC,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAQC,MAAM,UAAUM,KAAK,KAAKC,OAAK,EAACJ,KAAK,UAA7C,WAGAT,EAAAC,EAAAC,cAAA,OAAKxB,GAAG,4BA9FEoC,IAAMC,eA2GXC,sBAAWC,YANF,SAAAlD,GAAK,MAAK,CAChCK,gBAAiBL,EAAMqB,KAAKhB,gBAC5BW,MAAOhB,EAAMqB,KAAKL,MAClBZ,UAAWJ,EAAMqB,KAAKjB,YAGE8C,CAAyBxE","file":"static/js/1.24268f41.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSignIn\":\"login_formSignIn__2JFXf\",\"formContainer\":\"login_formContainer__1oSJM\"};","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser, saveUserInfo } from '../../actions/auth.action';\r\nimport { Input, Label, Button, Alert } from 'reactstrap';\r\nimport { firebase } from '../../configs/firebase';\r\nimport firebaseui from 'firebaseui';\r\nimport 'firebaseui/dist/firebaseui.css';\r\nimport classes from './login.module.scss';\r\n\r\nlet authUi = null;\r\n\r\nclass Login extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  handleChangeUsername = e => {\r\n    this.setState({\r\n      username: e.target.value\r\n    });\r\n  };\r\n\r\n  handleChangePassword = e => {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    const { dispatch, history } = this.props;\r\n    dispatch(loginUser(this.state, history));\r\n    e.preventDefault();\r\n  };\r\n\r\n  componentWillUpdate(nextProps) {\r\n    const { history, returnUrl } = this.props;\r\n    if (nextProps.isAuthenticated) {\r\n      history.push(returnUrl ? returnUrl : '/');\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const authConfig = {\r\n      callbacks: {\r\n        signInSuccessWithAuthResult: result => {\r\n          const id = result.additionalUserInfo.profile.id;\r\n          saveUserInfo(id, result);\r\n          return false;\r\n        },\r\n        signInFailure: error => console.log(error)\r\n      },\r\n      signInOptions: [\r\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        firebase.auth.GithubAuthProvider.PROVIDER_ID,\r\n        firebase.auth.TwitterAuthProvider.PROVIDER_ID\r\n      ],\r\n      signInFlow: 'popup',\r\n      signInSuccessUrl: '/'\r\n    };\r\n    authUi = new firebaseui.auth.AuthUI(firebase.auth());\r\n    authUi.start('#auth-container', authConfig);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    authUi.delete();\r\n  }\r\n\r\n  render() {\r\n    const { error } = this.props;\r\n    return (\r\n      <div className={classes.formContainer}>\r\n        <form className={classes.formSignIn} onSubmit={this.onSubmit}>\r\n          <h3 className=\"text-center\">Please sign in</h3>\r\n          {error && <Alert color=\"danger\">{error}</Alert>}\r\n          <div className=\"form-group\">\r\n            <Label for=\"inputEmail\" className=\"sr-only\">\r\n              Username\r\n            </Label>\r\n            <Input\r\n              autoFocus\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={this.state.username}\r\n              onChange={this.handleChangeUsername}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <Label for=\"inputPassword\" className=\"sr-only\">\r\n              Password\r\n            </Label>\r\n            <Input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChangePassword}\r\n            />\r\n          </div>\r\n          <Button color=\"primary\" size=\"lg\" block type=\"submit\">\r\n            Sign in\r\n          </Button>\r\n          <div id=\"auth-container\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.auth.error,\r\n  returnUrl: state.auth.returnUrl\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps)(Login));\r\n"],"sourceRoot":""}