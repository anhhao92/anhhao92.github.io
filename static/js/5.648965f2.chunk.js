(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1150:function(e,t,a){},1152:function(e,t,a){},2101:function(e,t,a){},2199:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(10),r=a(13),o=a(11),c=a(12),s=a(166),l=a(0),d=a.n(l),u=a(170),h=a.n(u),p=a(8),m=a(29),E=a(217),g=a(17),b=a(32),v=Object(b.createSelector)([function(e){var t=e.isEditDashboard,a=e.isEditing,n=e.widgetType;return!a&&t||!n}],function(e){return e}),y=Object(b.createSelector)([function(e){var t=e.isEditing,a=e.widgetType;return!t&&"DEFAULT_WIDGET"!==a}],function(e){return e}),f=Object(b.createSelector)([function(e){var t=e.isEditDashboard,a=e.widgetType;return e.isEditing||t&&"DEFAULT_WIDGET"!==a}],function(e){return e}),C=(a(1150),function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).onClickSetting=function(){var e=a.props,t=e.dispatch,n=e.widgetId;e.widgetType&&t(g.b.goToSetting(n))},a.onDelete=function(){var e=a.props,t=e.dispatch,n=e.widgetId;t(g.b.deleteWidget(n))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.widgetId,a=e.title,n=e.isSetting,i=e.isDeleted,r=e.isMaximized,o=e.children;return d.a.createElement("div",{className:"col-4"},d.a.createElement("div",{className:"widget"},d.a.createElement("div",{className:"widget-header"},d.a.createElement("div",{className:"widget-header__text"},a),d.a.createElement("div",{className:"widget-header__icon-group"},n&&d.a.createElement(m.FaCog,{onClick:this.onClickSetting}),r&&d.a.createElement(E.a,{to:"/view/".concat(t)},d.a.createElement(m.FaArrowsAlt,null)),i&&d.a.createElement(m.FaClose,{onClick:this.onDelete}))),d.a.createElement("div",{className:"widget-content"},o)))}}]),t}(d.a.PureComponent)),T=Object(p.b)(function(e,t){return{isSetting:v(t),isMaximized:y(t),isDeleted:f(t)}})(C),O=a(5),w=a(15),N=a(36),L=(a(1152),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).onChange=function(e){a.setState({widgetType:e.target.value})},a.updateTitle=function(e){a.setState({title:e.target.value})},a.updateWidth=function(e){a.setState({maxWidth:e.target.value})},a.updateHeight=function(e){a.setState({maxHeight:e.target.value})},a.state={widgetType:a.props.widgetType,title:a.props.title||"New Widget",maxWidth:a.props.maxWidth,maxHeight:a.props.maxHeight},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,a=e.widgetId;t(g.b.updateWidgetInfo(Object(O.a)({widgetId:a},this.state)))}},{key:"render",value:function(){var e=N.e[this.state.widgetType];return d.a.createElement("div",{className:"container-fluid"},d.a.createElement(w.j,{for:"title"},"Widget Title"),d.a.createElement(w.h,{type:"text",autoComplete:"off",onChange:this.updateTitle,value:this.state.title}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-4"},d.a.createElement(w.j,null,"Widget type"),d.a.createElement(w.h,{onChange:this.onChange,defaultValue:this.props.widgetType,type:"select"},d.a.createElement("option",{disabled:!0,value:"DEFAULT_WIDGET"},"Select"),d.a.createElement("option",{value:"TEXT_WIDGET"},"Text"),d.a.createElement("option",{value:"DATATABLE_WIDGET"},"Datatable"),d.a.createElement("option",{value:"TODOLIST_WIDGET"},"Todo List"),d.a.createElement("option",{value:"SIMPLECHART_WIDGET"},"Simple Chart"),d.a.createElement("option",{value:"STOCK_TICKER_WIDGET"},"Stock Ticker"),d.a.createElement("option",{value:"ORG_CHART_WIDGET"},"Org Chart"))),d.a.createElement("div",{className:"col-4"},d.a.createElement(w.j,{for:"minWidth"},"Min width"),d.a.createElement(w.h,{type:"text",onChange:this.updateWidth,value:this.state.maxWidth})),d.a.createElement("div",{className:"col-4"},d.a.createElement(w.j,{for:"minHeight"},"Min height"),d.a.createElement(w.h,{type:"text",onChange:this.updateHeight,value:this.state.maxHeight}))),d.a.createElement("hr",{className:"hr--custom"}),e&&d.a.createElement(e,this.props))}}]),t}(d.a.PureComponent)),A=Object(p.b)()(L),k=a(1154),j=(a(2101),function(e){var t=e.layoutType,a=e.onChangeLayout;return d.a.createElement("span",{className:"dashboard-layout"},d.a.createElement(m.FaStop,{className:t===N.b.A_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.A_COLUMN)}),d.a.createElement(m.FaThLarge,{className:t===N.b.AA_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.AA_COLUMN)}),d.a.createElement(m.FaTh,{className:t===N.b.AAA_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.AAA_COLUMN)}),d.a.createElement(m.FaThList,{className:t===N.b.AB_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.AB_COLUMN)}),d.a.createElement(k.MdViewArray,{className:t===N.b.ABA_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.ABA_COLUMN),size:30}),d.a.createElement(m.FaThList,{className:t===N.b.BA_COLUMN?"dashboard-layout--active":"",onClick:a(N.b.BA_COLUMN),style:{transform:"scaleX(-1)"}}))}),_=function(e){var t=e.dashboard,a=e.onChangeLayout,n=t.widgets&&t.widgets.map(function(e){var a=e.isEditing?A:N.f[e.widgetType];return d.a.createElement(T,Object.assign({key:e.widgetId,isEditDashboard:t.isEdit},e),d.a.createElement(a,e))});return d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"dashboard__title"},d.a.createElement("span",null,t.title),t.isEdit&&d.a.createElement(j,{layoutType:t.layoutType,onChangeLayout:a})),d.a.createElement("div",{id:"wrapper",className:"wrapper row"},n))},D=a(133),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).onChangeLayout=function(e){return function(){a.updateLayout(e),a.props.dispatch(g.b.changeLayout(e))}},a.onChangeLayout=a.onChangeLayout.bind(Object(s.a)(Object(s.a)(a))),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch;e.dashboard.id||t(Object(g.c)())}},{key:"componentDidMount",value:function(){this.updateLayout(this.props.dashboard.layoutType)}},{key:"componentDidUpdate",value:function(){this.props.dashboard.isEdit?(this.drake&&this.drake.destroy(),this.drake=h()([document.getElementById("wrapper")],{direction:"horizontal",moves:function(e,t,a){return a.classList.contains("widget-header")}})):(this.drake&&this.drake.destroy(),this.drake=null),this.updateLayout(this.props.dashboard.layoutType)}},{key:"componentWillUnmount",value:function(){this.drake&&this.drake.destroy()}},{key:"updateLayout",value:function(e){document.querySelectorAll("#wrapper > div").forEach(function(t,a){e!==D.b.ABA_COLUMN?t.className=a%2===0?D.a[e].oddClass:D.a[e].evenClass:t.className=a%3!==1?D.a[e].oddClass:D.a[e].evenClass})}},{key:"render",value:function(){return d.a.createElement(_,{dashboard:this.props.dashboard,onChangeLayout:this.onChangeLayout})}}]),t}(d.a.PureComponent);t.default=Object(p.b)(function(e){return{dashboard:e.dashboard}})(W)}}]);
//# sourceMappingURL=5.648965f2.chunk.js.map